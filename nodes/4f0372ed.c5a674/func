if (flow.get('timerOn') === false) {
    return;
}

var anyOn = msg.payload.on || msg.payload.anyOn;
flow.set('anyOn', anyOn);
if (anyOn) {
    return;
}

flow.set('timerOn', false);

node.log('[Corridor] timer stopped')

return [ { payload: 'stop' }, { reset: true} ];